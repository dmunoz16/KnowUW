<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8"/>
    <!-- external css file -->
    <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
    <title>KnowUW</title>
</head>

<body>
	<header>
		<div>
			<!--<br>-->
			<!-- <h1 class="welcomeBar">Welcome to the KnowUW Map (UW Tacoma Campus)</h1><br> -->
            <img id="KnowUWLogo" class="KnowUWLogo" src="KnowUW2.png" alt="KnowUW Logo">
		</div>
	</header>
	<section>
		<div>
    		<img id="backgroundImg" src="CampusMap.jpg" alt="UW Tacoma campus map" usemap="#campusmapclicks">
    		<!--<map name="campusmapclicks">
    			<area shape="rect" coords="0,0,82,126" href="" alt="whitney">
    		</map>-->
    		<!--<img id="whitneyBlg" src="Whitney.png" alt="Whitney Building">-->
    		<!--<map id="whitneybuilding">
    			<area class="whitneybldg"shape="rect" coords="0,0,82,126" alt="left" href="">
    		</map>-->
    	</div>
	</section>
	<!-- The footer with: contacts, other pages, etc. at the bottom of the page -->
	<footer>
		<div class="row">

            <!-- Contacts Section -->
            <div class="column">
                <h2>Contact Us</h2>
                <p class="contactinfo">
                    <br>
                    University of Washington Tacoma</p>
                    <p class="contactinfo">
                    1900 Commerce Street </p>
                    <p class="contactinfo">
                    Tacoma, WA 98402-3100</p>
                    <p class="contactinfo">
                    <br>
                    <strong>Phone:</strong> 253-692-4400 </p>
                    <p class="contactinfo">
                    <strong>TDD:</strong> 253-692-4414</p>
                    <p class="contactinfo">
                    <br>
                    <a class="emaillink" href="https://www.tacoma.uw.edu/contact">Send us an email</a></p> <!-- Click to send them to: https://www.tacoma.uw.edu/contact -->
                </p>
            </div>

            <!-- Academic Calendar Section -->
            <div class="column">
                <h2>Academic Calender</h2>
                <p>Some text..</p>

                <!-- The calendar development location in a div inside footer seciton: Acaedmic Calendar -->
                <div class="calendar">

                    <div class="col leftCol">
                        <div class="content">
                            <h1 class="date"></h1>
                            <div class="notes">
                                <p>
                                    <input type="text" value="" placeholder="Events today:"/>
                                </p>

                                <!-- List of events in Calendar -->
                                <ul class="noteList">
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col rightCol">
                        <div class="content">
                            <h2 class="year"></h2>
                            <!-- all clickable b/c of href therefore all going to the top page -->
                            <ul class="months">
                                <li><a href="#" title="Jan" data-value="1">Jan</a></li>
                                <li><a href="#" title="Feb" data-value="2">Feb</a></li>
                                <li><a href="#" title="Mar" data-value="3" class="selected">Mar</a></li>
                                <li><a href="#" title="Apr" data-value="4">Apr</a></li>
                                <li><a href="#" title="May" data-value="5">May</a></li>
                                <li><a href="#" title="Jun" data-value="6">Jun</a></li>
                                <li><a href="#" title="Jul" data-value="7">Jul</a></li>
                                <li><a href="#" title="Aug" data-value="8">Aug</a></li>
                                <li><a href="#" title="Sep" data-value="9">Sep</a></li>
                                <li><a href="#" title="Oct" data-value="10">Oct</a></li>
                                <li><a href="#" title="Nov" data-value="11">Nov</a></li>
                                <li><a href="#" title="Dec" data-value="12">Dec</a></li>
                            </ul>
                            <div class="clearfix"></div>

                            <!-- all clickable b/c of href therefore all going to the top page -->
                            <ul class="weekday">
                                <li><a title="Mon" data-value="1">Mon</a></li>
                                <li><a title="Tue" data-value="2">Tue</a></li>
                                <li><a title="Wed" data-value="3">Wed</a></li>
                                <li><a title="Thu" data-value="4">Thu</a></li>
                                <li><a title="Fri" data-value="5">Fri</a></li>
                                <li><a title="Say" data-value="6">Sat</a></li>
                                <li><a title="Sun" data-value="7">Sun</a></li>
                            </ul>
                            <div class="clearfix"></div>
                            <ul class="days">
                                <script>
                                    // figure out what month and then add class = "selected" to that element
                                    var today = new Date();
                                    var daysInMonth = new Array(12);
                                    daysInMonth[0] = 31;
                                    daysInMonth[1] = 29;
                                    daysInMonth[2] = 31;
                                    daysInMonth[3] = 30;
                                    daysInMonth[4] = 31;
                                    daysInMonth[5] = 30;
                                    daysInMonth[6] = 31;
                                    daysInMonth[7] = 31;
                                    daysInMonth[8] = 30;
                                    daysInMonth[9] = 31;
                                    daysInMonth[10] = 30;
                                    daysInMonth[11] = 31;

                                    // figure out how many days in the current month onto calendar
                                    for( var _i = 1; _i <= daysInMonth[today.getMonth()] ; _i++) {
                                        var _addClass = '';

                                        // indicate what day it is today and highlight it
                                        if( _i === today.getDate()){ 
                                            _addClass = ' class="selected"'; 
                                        }
                                        
                                        // indicate what days have events
                                        switch( _i ){
                                            case 8:
                                            case 10:
                                            case 27:
                                                _addClass = ' class="event"';
                                            break;
                                        }

                                        document.write( '<li><a href="#" title="'+_i+'" data-value="'+_i+'"'+_addClass+'>'+_i+'</a></li>' );
                                    }
                                </script>
                            </ul>
                            <div class="clearfix"></div>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                </div>

            </div>

            <div class="column">
                <h2>Events</h2>
                <p>Here are the 5 upcoming events:</p>

                <!-- The table development location in a div inside footer section: Events -->
                <div id="events">
                </div>

            </div>
        </div>
        <div>
			<a class="officialsite" href="https://www.tacoma.uw.edu/" target="_blank">UWT Official Site</a>
        </div>
	</footer>

	<!-- external javascript file -->
	<script>

        // check current day date and remove the events before those days to keep data up to date
        var today = new Date();

        //
        // work on hoverzoom when hovering over calendar
        //
        document.getElementsByClassName("calendar")[0].addEventListener("mouseenter", function() {
             //change size of calendar to 200-400% of current size, include animation
            var getCalendar = document.getElementsByClassName("calendar");
            document.getElementsByClassName("calendar")[0].style.width = '200%';
            document.getElementsByClassName("calendar")[0].style.height = '555px';
        });
        // ********* Calendar stuff ************

        // configure the day of the month on left top column of calendar
        var getDayCalendar = '';
        var weekday = new Array(7);
        weekday[0] = 'Sunday';
        weekday[1] = 'Monday';
        weekday[2] = 'Tuesday';
        weekday[3] = 'Wednesday';
        weekday[4] = 'Thursday';
        weekday[5] = 'Friday';
        weekday[6] = 'Saturday';

        var n = weekday[(today.getDay())];
        getDayCalendar = n + '<span>';

        var theMonth = new Array(12);
        theMonth[0] = 'January';
        theMonth[1] = 'February'; 
        theMonth[2] = 'March'; 
        theMonth[3] = 'April'; 
        theMonth[4] = 'May'; 
        theMonth[5] = 'June'; 
        theMonth[6] = 'July'; 
        theMonth[7] = 'August'; 
        theMonth[8] = 'September'; 
        theMonth[9] = 'October'; 
        theMonth[10] = 'November'; 
        theMonth[11] = 'December';
        getDayCalendar += theMonth[today.getMonth()] + ' ' + today.getDate();

        var endOfDay = new Array(5);
        endOfDay[0] = 'th';
        endOfDay[1] = 'st';
        endOfDay[2] = 'nd';
        endOfDay[3] = 'rd';
        endOfDay[4] = 'th';
        if (today.getDate() % 10 >= 4) {
            getDayCalendar += endOfDay[4] + '</span>';
        } else {
            getDayCalendar += endOfDay[(today.getDate() % 10)] + '</span>';
        }
        document.getElementsByClassName('date')[0].innerHTML = getDayCalendar;

        // Get the year update
        document.getElementsByClassName('year')[0].innerHTML = today.getFullYear();








		// source: https://www.tacoma.uw.edu/calendar/calendar#/?i=17
        // create array to keep all event information (updated on events on 2/27/2020)
        // event descriptions
        let eventDescript = new Array(20);
        eventDescript[0] = "Social Work Challenges and Progress";
        eventDescript[1] = "Milgard Invitational Case Competition";
        eventDescript[2] = "SHRM Lunch & Learn";
        eventDescript[3] = "2020 Urban Studies Forum 'Attainable Housing and the Future of Prosperity & Inclusion in Pierce County'";
        eventDescript[4] = "Mental Health Awareness Day: TBI and PTSD"; // double date
        eventDescript[5] = "E-sports, Gaming and Competitive Entertainment: The Industry and Your OpportunitiesSign Up"; // double date
        eventDescript[6] = "Winter Qtr Colloquium CP & WPH lobby";
        eventDescript[7] = "Connecting the Dots: Safety in Action";
        eventDescript[8] = "The Rise of Chinese Wine: A Political Economy Story | Grit City Think&Drink";
        eventDescript[9] = "Winter Undergraduate Student Showcase";
        eventDescript[10] = "Stand with the Facts: Bots, Trolls and Your Vote";
        eventDescript[11] = "Buford Park Spring Breakaway";
        eventDescript[12] = "Buford Park Spring Breakaway";
        eventDescript[13] = "Buford Park Spring Breakaway";
        eventDescript[14] = "Buford Park Spring Breakaway";
        eventDescript[15] = "Buford Park Spring Breakaway"; // double date
        eventDescript[16] = "2020 Children of Incarcerated Parents Conference"; // double date
        eventDescript[17] = "Buford Park Spring Breakaway";
        eventDescript[18] = "IT Mixer (The Swiss)";
        eventDescript[19] = "Global Competition of Social Messaging Platforms | Grit City Think&Drink";


        // event locations respect to eventDescript's array
        let eventLocation = new Array(20);
        eventLocation[0] = "UW Ethnic Cultural Center";
        eventLocation[1] = "UW Tacoma William W. Philip Hall (WPH)";
        eventLocation[2] = "UW Tacoma Dougan (DOU)";
        eventLocation[3] = "UW Tacoma William W. Philip Hall (WPH)";
        eventLocation[4] = "UW Tacoma William W. Philip Hall (WPH)"; // double date 
        eventLocation[5] = "UW Tacoma Carlton Center (CAR)"; // double date
        eventLocation[6] = "UW Tacoma William W. Philip Hall (WPH)";
        eventLocation[7] = "UW Tacoma William W. Philip Hall (WPH)";
        eventLocation[8] = "The Swiss Restaurant & Pub 1904 South Jefferson";
        eventLocation[9] = "University Y Student Center";
        eventLocation[10] = "UW Tacoma William W. Philip Hall (WPH)";
        eventLocation[11] = "UW Tacoma Mattress Factory (MAT)";
        eventLocation[12] = "UW Tacoma Mattress Factory (MAT)";
        eventLocation[13] = "UW Tacoma Mattress Factory (MAT)";
        eventLocation[14] = "UW Tacoma Mattress Factory (MAT)";
        eventLocation[15] = "UW Tacoma Mattress Factory (MAT)"; // double date
        eventLocation[16] = "UW Tacoma William W. Philip Hall (WPH)"; // double date 
        eventLocation[17] = "UW Tacoma Mattress Factory (MAT)";
        eventLocation[18] = "N/A";
        eventLocation[19] = "The Swiss Restaurant & Pub 1904 South Jefferson";


        // event dates respect to eventDescript's array
        let eventDate = new Array(20);
        eventDate[0] = "2 27 2020";
        eventDate[1] = "2 28 2020";
        eventDate[2] = "3 03 2020";
        eventDate[3] = "3 04 2020";
        eventDate[4] = "3 05 2020"; // double date
        eventDate[5] = "3 05 2020"; // double date
        eventDate[6] = "3 06 2020";
        eventDate[7] = "3 09 2020";
        eventDate[8] = "3 10 2020";
        eventDate[9] = "3 13 2020";
        eventDate[10] = "3 18 2020"; 
        eventDate[11] = "3 21 2020";
        eventDate[12] = "3 22 2020";
        eventDate[13] = "3 23 2020";
        eventDate[14] = "3 24 2020";
        eventDate[15] = "3 25 2020"; // double date
        eventDate[16] = "3 25 2020"; // double date
        eventDate[17] = "3 26 2020";
        eventDate[18] = "4 03 2020";
        eventDate[19] = "4 14 2020";

        // event time of the day respect to eventDescript's array
        let eventTime = new Array(20);
        eventTime[0] = "5 p.m.";
        eventTime[1] = "11 a.m.";
        eventTime[2] = "12:30 p.m.";
        eventTime[3] = "8:45 a.m.";
        eventTime[4] = "12 p.m."; // double date
        eventTime[5] = "12:15 p.m."; // double date
        eventTime[6] = "10:30 a.m.";
        eventTime[7] = "8 a.m.";
        eventTime[8] = "6:30 p.m.";
        eventTime[9] = "1:30 p.m.";
        eventTime[10] = "7 p.m.";
        eventTime[11] = "8 a.m.";
        eventTime[12] = "8 a.m.";
        eventTime[13] = "8 a.m.";
        eventTime[14] = "8 a.m.";
        eventTime[15] = "8 a.m."; // double date
        eventTime[16] = "7:30 a.m."; // double date 
        eventTime[17] = "9 a.m.";
        eventTime[18] = "5 p.m.";
        eventTime[19] = "6:30 p.m.";

        // array for current dates to display, get value to start the array
        var startIndex = 0;
        for (var i = 0; i < 20; i++) {
            // into token seperated by space
            var getDate = eventDate[i].split(' '); // format "month day year"
            var getDay = getDate[1];
            var getMonth = getDate[0];
            var getYear = getDate[2];

            if (getMonth >= (today.getMonth() + 1) && getYear == today.getFullYear()) 
            { // same month or further month
                if (getMonth == (today.getMonth()+ 1) && getDay < today.getDate()) { // same month but it's past that day
                    continue; // or do nothing but continues loop without completing current loop codes pass this line
                } else { // all future
                    startIndex = i;
                    // noteList class with events to list UL
                    var eventCalendarr = document.getElementsByClassName('noteList')[0];
                    eventCalendarr.style.color = 'white';
                    var eventList1 = document.createTextNode(eventDescript[startIndex] + ' at ' + eventTime[startIndex]);
                    eventCalendarr.appendChild(eventList1);
                    if (startIndex == 4 || startIndex == 15) {
                        var eventList2 = document.createTextNode(eventDescript[startIndex + 1] + ' at ' + eventTime[startIndex + 1]);
                        eventCalendarr.appendChild(eventList2);
                    } else if (startIndex == 5 || startIndex == 16) {
                        var eventList2 = document.createTextNode(eventDescript[startIndex + 1] + ' at ' + eventTime[startIndex + 1]);
                        eventCalendarr.appendChild(eventList2);
                    }
                    break; // stops loop, knowing this start index
                }
            } else {
                continue;
            }
            // if reach here, then no more events left
            document.writeln("Sorry, there are no more events in the near future.");
        }

        // display a certain amount of events (5-10) and have an option to display all events on database
        function tableCreate(x) {
            var body = document.getElementById('events'); // called it body but is events div
            var tbl = document.createElement('table');
            //tbl.style.width = '450px';
            tbl.style.float = 'left';
            //tbl.setAttribute('border', '1');
            var tbdy = document.createElement('tbody');

            // create header row of table
            var thFirst = document.createElement('th');
            thFirst.innerHTML = 'Date and Time';
            thFirst.style.color = 'white';
            thFirst.style.width = '120px';
            //thFirst.style.textAlign = 'left';
            var thSec = document.createElement('th');
            thSec.innerHTML = 'Event';
            thSec.style.color = 'white';
            //thSec.style.textAlign = 'left';
            var thThird = document.createElement('th');
            thThird.innerHTML = 'Location';
            thThird.style.color = 'white';
            //thThird.style.textAlign = 'left';
            var tr = document.createElement('tr');
            tr.style.backgroundColor = '#4b2e83';
            tr.style.fontWeight = 'bold';
            tr.appendChild(thFirst);
            tr.appendChild(thSec);
            tr.appendChild(thThird);

            // create table info
            var tr2 = document.createElement('tr');
            tr2.style.backgroundColor = "#fcebbd";
            var td1 = document.createElement('td');
            td1.innerHTML = eventDate[x] + " at " + eventTime[x]; // and time 
            td1.style.textAlign = 'left';
            var td2 = document.createElement('td');
            td2.innerHTML = eventDescript[x];
            td2.style.textAlign = 'left';
            var td3 = document.createElement('td');
            td3.innerHTML = eventLocation[x];
            td3.style.textAlign = 'left';
            tr2.appendChild(td1);
            tr2.appendChild(td2);
            tr2.appendChild(td3);

            // append everything into the body/event Div
            tbdy.appendChild(tr);
            tbdy.appendChild(tr2);
            tbl.appendChild(tbdy);
            body.appendChild(tbl);
        }

        // loop to create the 5 most recent events based off current date
        for (var i = startIndex; i < (startIndex + 5); i++) {
            tableCreate(i);
        }

        // Jan 6 - March 20 = Winter 2020 array (startIndex to indexOf(10))
        // March 30 - June 15 = Spring 2020 (indexOf(11) to indexOf(19))

        // noteList class with events to list UL
        var eventCalendarr = document.getElementsByClassName('noteList')[0];
        var eventList1 = document.createElement('li');
        var stringList = eventDescript[startIndex] + ' at ' + eventTime[startIndex];
        eventList1.innerHtml = stringList;
        eventCalendarr.appendChild(eventList1);
        



	</script>
</body>


        <!-- THE ABOUT QUICK-VIEW WINDOW, MADE IN NEW BODY TO OVERLAY ALL OTHER ELEMENTS -->
        <body>
            <!-- Trigger/Open The Modal -->
            <div id="myModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="close">&times;</span>
                        <h2 class="aboutKnowUW">About KnowUW</h2>
                    </div>
                    <div class="modal-body">
                        <p>INFORMATION...</p>
                        <br>
                        <p>INFORMATION...</p>
                        <br>
                        <p>INFORMATION...</p>
                        <br>
                        <p>INFORMATION...</p>
                        <br>
                        <p>INFORMATION...</p>
                        <br>
                        <p>INFORMATION...</p>
                        <br>
                        <p>INFORMATION...</p>
                    </div>
                    <div class="modal-footer">
                    <a class="clickToReadMore" href="https://www.tacoma.uw.edu/about-uw-tacoma/about-university-washington-tacoma" target="_blank">
                        <h3>Click to Read More About UW Tacoma</h3>
                    </a>
                </div>
            </div>

        </div>
        <script>
            var modal = document.getElementById("myModal"); // Call Modal
            var logo = document.getElementById("KnowUWLogo"); // Use Logo to Summon Modal
            var span = document.getElementsByClassName("close")[0]; // Way to Close Modal
            logo.onclick = function() {
                modal.style.display = "block"; // When Logo is Clicked, it Summons the Body/Modal
            }
            span.onclick = function() {
                modal.style.display = "none"; // When (x) is Clicked, it Closes the Modal
            }
            window.onclick = function(event) { // Or if they Click anywhere Else, it Closes the Modal
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
</body>
</html>